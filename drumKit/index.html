<!DOCTYPE html>
<html >
<head>
  <meta charset="UTF-8">
  <title>Drum Pads</title>
  
  
  <link rel='stylesheet prefetch' href='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0-alpha.6/css/bootstrap.min.css'>

      <link rel="stylesheet" href="css/style.css">

  
</head>

<body>
  <div class="head">
  <h1>Drum Pads</h1>
  
</div>
<div class="pads">
  <div class="pad" id="q" data-key="81">Q</div>
  <div class="pad" id="w"data-key="87">W</div>
  <div class="pad" id="e"data-key="69">E</div>
  <div class="pad" id="a" data-key="65">A</div>
  <div class="pad" id="s" data-key="83">S</div>
  <div class="pad" id="d" data-key="68">D</div>
  <div class="pad" id="z" data-key="90">Z</div>
  <div class="pad" id="x" data-key="88">X</div>
  <div class="pad" id="c" data-key="67">C</div>
</div>
  
  <audio data-key="81" src="sounds/clap.wav"></audio>
  <audio data-key="87" src="sounds/hihat.wav"></audio>
  <audio data-key="69" src="sounds/kick.wav"></audio>
  <audio data-key="65" src="sounds/openhat.wav"></audio>
  <audio data-key="83" src="sounds/boom.wav"></audio>
  <audio data-key="68" src="sounds/ride.wav"></audio>
  <audio data-key="90" src="sounds/snare.wav"></audio>
  <audio data-key="88" src="sounds/tom.wav"></audio>
  <audio data-key="67" src="sounds/tink.wav"></audio>
  <script>
    function removeActive(e) {
      
      if(e.propertyName !== 'transform') return;
      e.target.classList.remove('active');
    }
    function playSound(e) {
      const audio = document.querySelector(`audio[data-key="${e.keyCode}"]`);
      const key =  document.querySelector(`div[data-key="${e.keyCode}"]`);
      if(!audio) return;
      key.classList.add('active');
      audio.currentTime = 0;
      audio.play();
    }
  const keys = Array.from(document.querySelectorAll('.pad'));
   keys.forEach(key => key.addEventListener('transitionend', removeActive));
   window.addEventListener('keydown',playSound);
    function playClick(e) {
      const name = this.id;
      const obj = document.getElementById(name);
      const val = obj.getAttribute('data-key');
      const audio = document.querySelector(`audio[data-key="${val}"]`);
      const key =  document.querySelector(`div[data-key="${val}"]`);
      if(!audio) return;
      key.classList.add('active');
      audio.currentTime = 0;
      audio.play();    
  }
 
  keys.forEach(key => key.addEventListener('click', playClick));
  

    </script>
</body>
</html>
